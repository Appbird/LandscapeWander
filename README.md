# Landscape Wander: 現実世界の写真を2Dプラットフォームアクションゲームのフィールドとして活用するための手法

## 概要

デジタル世界へ現実世界を投影するような AR（拡張現実）コンテンツが人気を博している．
ユーザが記録した現実世界の写真をゲームコンテンツのフィールドとして活用する環境が整備されれば，
様々な応用コンテンツの開発の促進が期待できる．
そこで，我々は現実世界の写真からアクションゲームにおける足場を抽出するような作業を効率化する
API「Landscape Wander」の開発を進めている．
この APIは，従来の画像処理の手法を適用する時に生じる足場検出の問題を抑制しつつ，
大量の閾値・パラメータを低次元のパラメータで制御するような機能を提供する．

# リポジトリ
当リポジトリではC++ライブラリを提供しています。
- ライブラリは[OpenSiv3D](https://siv3d.github.io/ja-jp/)の上で構成されています。
  - このリポジトリにはOpenSiv3Dプロジェクトに必要な必要なファイルは含まれていません。
  - そのため、動作させる際には、OpenSiv3Dプロジェクトのsrcフォルダをこのリポジトリのsrcに置き換えたり、Appフォルダの中身のshaderを置き換えたり、
    - 動作に必要なアセットデータは[こちら](https://github.com/Appbird/LandscapeWander/blob/main/src/AssetsRegister.hpp)から確認できます。
      - パスは`./App`を基準としたパスで記述されています。
- 実行すれば、ゲーム選択画面に移るので、キーボードを使って操作ができます。


# リポジトリ構成
  - `./src/Main.cpp` ... エントリポイントです。
  - `./src/LandscapeWander/detector/` ... ステージの地形抽出器が含まれています。
    - 写真をImageで渡すと、地形を表す線分群が`Array<Line>`として帰ってきます。
    - Fast Line Detectorベースの実装として`fld.hpp`、確率的Hough変換ベースの実装として`houghp.hpp`が利用できます。
    - このコードと`.cpp`ファイルを他プロジェクトに持っていくことで、写真から2D地形を簡単に抽出できます！
  - `./src/WalkDemo` ... 上記地形検出器が出力した地形を実際に駆け巡れるデモです。上記地形検出器の応用例として公開しています。
  - `./src/LandscapeStickman` ... このライブラリを使って作成したゲーム"Landscape Stickman"のソースコードが含まれています。
  - `./src/LandscapeExtenders` ... このライブラリを使って作成したゲーム"Landscape Extenders"のソースコードが含まれています。
